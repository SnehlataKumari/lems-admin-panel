<app-header></app-header>
<app-sidebar></app-sidebar>
<div id="livePage"></div>
<div class="content-page">
    <div class="content">
        
        <!-- Start Content-->
        
        <div class="container-fluid">
            <div class="row page-title mt-2 d-print-none">
                <div class="col-md-12">
                    <nav aria-label="breadcrumb" class="float-right mt-1">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a class="fw-600">Product</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Live Stream</li>
                        </ol>
                    </nav>
                    <h4 class="mb-1 mt-0">Live Stream</h4>
                </div>
            </div>

            <div class="row">
                <div class="col-12 col-md-12 col-sm-12 col-lg-12">
                  <form (ngSubmit)="onAddLiveClass()" [formGroup]="addLiveClassForm">
                    <div class="card">
                        <div class="card-body">
                             <div class="row">
                                <div class="col-md-12 form-group">
                                    <div class="custom-control custom-switch mb-2">
                                        <input type="checkbox" class="custom-control-input" id="active">
                                        <label class="custom-control-label" for="active">Active</label>
                                    </div>
                                 </div>
                                  <div class="col-md-12 form-group">
                                    <div class="custom-control custom-switch mb-2">
                                      <input type="checkbox" class="custom-control-input" formControlName="isDemoClass" id="isDemoClass">
                                      <label class="custom-control-label" for="isDemoClass" >Is Demo Class</label>
                                    </div>
                                  </div>
                                 <div class="col-md-6">
                                     <div class="form-group">
                                          <label><span class="text-danger">*</span>Title</label>
                                          <!-- <input type="text" class="form-control"> -->
                                          <input type="text" class="form-control" formControlName="title">
                                          <show-errors [control]="addLiveClassForm.get('title')"></show-errors>
                                     </div>
                                 </div>
                                 <div class="col-md-6">
                                    <div class="form-group">
                                         <label>Stream Code</label>
                                         <!-- <input type="text" class="form-control"> -->
                                        <input type="text" class="form-control" formControlName="streamCode">
                                        <show-errors [control]="addLiveClassForm.get('streamCode')"></show-errors>
                                    </div>
                                </div>
                            
                                <div class="col-md-12">
                                  <div class="form-group">
                                    <label><span class="text-danger">*</span>Brief Description</label>
                                    <textarea class="form-control" rows="7" formControlName="description"></textarea>
                                    <show-errors [control]="addLiveClassForm.get('description')"></show-errors>
                                  </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                         <label><span class="text-danger">*</span>Assign Mentor</label>
                                         <select class="form-control" formControlName="assignedMentor">
                                             <option *ngFor ="let teacher of allTeachers" [value]="teacher.userId._id">{{teacher.userId.firstName}} {{teacher.userId.lastName}}</option>
                                             <!-- <option>Select mentor</option> -->
                                             <!-- <option>Select mentor</option> -->
                                         </select>
                                          <show-errors [control]="addLiveClassForm.get('assignedMentor')"></show-errors>
                                    </div>
                                </div> 
                                <div class="col-md-6">
                                    <div class="form-group">
                                         <label><span class="text-danger">*</span>Approx Stream Time</label>
                                         <input type="number" class="form-control" formControlName="approxStreamTime">
                                          <show-errors [control]="addLiveClassForm.get('approxStreamTime')"></show-errors>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <label><span class="text-danger">*</span>Assign Test</label>
                                    <select class="form-control" formControlName="testId">
                                      <option>Select Quiz Test</option>
                                      <option>Select Quiz Test</option>
                                      <option>Select Quiz Test</option>
                                    </select>
                                    <show-errors [control]="addLiveClassForm.get('testId')"></show-errors>
                                  </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                         <label><span class="text-danger">*</span>Class Start Time</label>
                                        <input type="time" class="form-control" formControlName="classStartTime">
                                        <show-errors [control]="addLiveClassForm.get('classStartTime')"></show-errors>
                                         <!-- <div class="row">
                                              <div class="col-md-6">
                                                    <div class="controls">
                                                        <div class="toggle-example">
                                                            <input [ngxTimepicker]="toggleTimepicker" class="form-control" [disableClick]="true" readonly>
                                                            <ngx-material-timepicker-toggle [for]="toggleTimepicker"></ngx-material-timepicker-toggle>
                                                            <ngx-material-timepicker #toggleTimepicker></ngx-material-timepicker>
                                                        </div>
                                                    </div>
                                              </div>
                                              <div class="col-md-6">
                                                <div class="controls">
                                                    <div class="toggle-example">
                                                        <input [ngxTimepicker]="toggleTimepicker1" class="form-control" [disableClick]="true" readonly>
                                                        <ngx-material-timepicker-toggle [for]="toggleTimepicker1"></ngx-material-timepicker-toggle>
                                                        <ngx-material-timepicker #toggleTimepicker1></ngx-material-timepicker>
                                                    </div>
                                                </div>
                                              </div>
                                         </div> -->
                                        </div>
                                      </div>
                                        <div class="col-md-6">
                                          <div class="form-group">
                                            <label><span class="text-danger">*</span>Class End Time</label>
                                            <input type="time" class="form-control" formControlName="classEndTime">
                                            <show-errors [control]="addLiveClassForm.get('classEndTime')"></show-errors>
                                          </div>
                                        </div>
                                        <div class="col-md-6">
                                          <div class="form-group">
                                            <label><span class="text-danger">*</span>Date</label>
                                            <input type="date" formControlName="date" class="form-control" />
                                            <!-- <mat-form-field>
                                                                                    <input matInput [matDatepicker]="picker4" formControlName="date">
                                                                                    <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                                                                                    <mat-datepicker #picker4></mat-datepicker>
                                                                                  </mat-form-field> -->
                                            <show-errors [control]="addLiveClassForm.get('date')"></show-errors>
                                          </div>
                                        </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                         <label><span class="text-danger">*</span>Number Of Students</label>
                                         <input type="number" class="form-control" formControlName="allowedNoOfStudents">
                                        <show-errors [control]="addLiveClassForm.get('allowedNoOfStudents')"></show-errors>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <label><span class="text-danger">*</span>Number of Demo Student</label>
                                    <input type="number" class="form-control" formControlName="allowedNoOfDemoStudents">
                                    <show-errors [control]="addLiveClassForm.get('allowedNoOfDemoStudents')"></show-errors>
                                  </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <label><span class="text-danger"> *</span>Select Group</label>
                                    <select class="form-control" formControlName="selectedGroup">
                                      <option>choose</option>
                                      <option>choose</option>
                                      <option>choose</option>
                                    </select>
                                    <show-errors [control]="addLiveClassForm.get('selectGroup')"></show-errors>
                                  </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <label class="w-100">Upload Poster</label>
                                    <div class="img-box w-auto">
                                      <div class="img mb-2">
                                        <div class="input-group mb-3">
                                          <div class="input-group-prepend">
                                            <span class="input-group-text">Upload</span>
                                          </div>
                                          <div class="custom-file">
                                            <input type="file" (change)="singleFiles($event)" class="custom-file-input" id="inputGroupFile02">
                                            <!-- <show-errors [control]="addLiveClassForm.get('uploadPoster')"></show-errors> -->
                                            <label class="custom-file-label" for="inputGroupFile02">Choose file</label>
                                          </div>
                                        </div>
                                        <!-- <label class="w-100">
                                                                                   <input type="file" class="form-control mb-3" accept='image/*' (change)="singleFiles($event)"/>
                                                                                   
                                                                              </label> -->
                                        <img src="assets/images/young1.png" class="imagefile" width="250px" height="90px" />
                                      </div>
                                    </div>
                                  </div>
                                </div>
                             </div>
                              
                             <div class="row"> 
                                <div class="col-md-6 mx-auto">
                                    <div class="mt-3 text-center form-group"  *ngIf="!isSubmitting">
                                        <button class="btn btn-primary mr-3 btn-sm" >Schedule Stream  
                                        </button>
                                    </div>
                                    <div class="mt-3 text-center form-group" *ngIf="isSubmitting">
                                      <button type="button" class="btn btn-primary">
                                        <div class="spinner-border text-light mr-3" role="status">
                                          <span class="sr-only">Loading...</span>
                                        </div> Submitting...
                                      </button>
                                    </div>
                                </div>
                             </div>
                        </div>
                    </div>
                  </form>
                </div> <!-- end col -->
            </div> 
            <!-- end row --> 
        </div> <!-- container-fluid -->
    </div> <!-- content -->

</div>

<div id="delete-modal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-sm">
      <div class="modal-body text-center">
        <div class="row">
          <div class="col-md-12">
            <i class="text-danger fs-34 d-inline-block uil uil-trash-alt mb-2"></i>
            <h6>Are you sure want to delete?</h6>
          </div>
        </div>
        <hr />
        <div class="row m-t-15">
          <div class="col-sm-12">
            <button type="button" class="btn btn-sm btn-success mr-1" data-target="#delete-sccess-modal" data-toggle="modal" data-dismiss="modal">Delete</button>
            <button type="button" class="btn btn-sm btn-danger ml-1" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="reason">
    <div class="modal-dialog modal-md">
      <form>
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title">Rejection Reason</h6>
                <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
            </div>
            <div class="modal-body">
               
                <div class="form-group">
                   <label>Reason For Rejection</label>
                  <textarea class="form-control" rows="7">

                  </textarea>
                </div>
                <div class="margin-top-15 text-center">
                    <button type="button" class="btn btn-success" data-dismiss="modal">Save</button>
                </div>
            </div>
        </div>
      </form>
    </div>
  </div>